---
tags:
  - 模板
  - 计算几何
---
```cpp
struct Polygon {
    vector <Point> poly;
    int n;
    void counterClockwise() {
    	// 将一个顺时针的凸包变成逆时针
        bool f = false;
        for (int i = 0; i < n; ++i) {
            if (Line(poly[i], poly[(i+1)%n]).toLeft(poly[(i+2)%n]) == -1) { f=true; }
        }
        if (f) { reverse(poly.begin(), poly.end()); }
    }
    Polygon(int n): n(n) {
        poly.resize(n);
        for (auto &p: poly) { p.in(); }
        counterClockwise();
    }
    db S() {
        db res = 0;
        for (int i = 0; i < n; ++i) {
            res += 0.5*(poly[i]^poly[(i+1)%n]);
        }
        return fabs(res);
    }
};
```

```cpp
{   //点在凸包边上
    bool onSeg = false;
    for (int j = 0; j < n; ++j) {
        if (onSegment(poly[j], poly[(j+1)%3], {a,b})) {
            onSeg = true;
        }
    }
    if (onSeg) { cout << "YES\n"; continue; }
}
{   // 点在凸包内部
    int cnt = 0;
    for (int j = 0; j < n; ++j) {
        cnt += toLeft(poly[j], poly[(j+1)%3], {a,b});
    }
    if (abs(cnt) == n) { cout << "YES\n"; }
    else               { cout << "NO\n"; }
}
```
