---
tags:
  - 模板
  - 并查集
---
```cpp
struct Dsu {
    int n;
    vector <int> fa;
    vector <ll> cnt;
    Dsu(int n): n(n) {
        fa.resize(n+1);
        iota(fa.begin(), fa.end(), 0);
        cnt.resize(n+1, 1);
    }
    int find(int x) {
        return fa[x]==x? fa[x]: fa[x]=find(fa[x]);
    }
    void merge(int x, int y) {
        x = find(x);
        y = find(y);
        fa[y] = x;
        cnt[x] += cnt[y];
    }
    void add(int x) {
        ++cnt[find(x)];
    }
};
Dsu D(n);
```
